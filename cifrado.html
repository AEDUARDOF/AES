<!doctype html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" scontent="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./CSS/estilos.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300&display=swap" rel="stylesheet">
    <script src="JS/FileSaver.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://bootswatch.com/5/minty/bootstrap.min.css">
    
    <title>Cifrado AES</title>
  </head>
  <body>
    <ul class="nav justify-content-end">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./cifrado.html">Cifrar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./descifrado.html">Descifrar</a>
        </li>
      </ul>


      <main>
        <h1 class="display-3 text-center text-primary">Cifrado con AES</h1>
        
  
        <div class="container mt-4">
          <form>
            <div class="mb-3s">
                <label for="user" class="form-label">Llave</label>
                <input type="text" class="form-control" id="llave" name="llave" tabindex="1">
            </div>
            <br>
            <div class="mb-3s">
                <label for="user" class="form-label">Mensaje</label>
                <textarea class="form-control" name="mensaje" id="mensaje" rows="4" cols="50"></textarea>
            </div>
            <br>
            <label for="user" class="form-label">Tamaño de la llave</label>
            <select id="tamanio" name="tamanio" requiered class="form-control">
              <option value="0">Tamaño</option> 
              <option value="128">128</option>
              <option value="192">192</option>
              <option value="256">256</option>
            </select>
            <br>
            <div class="mb-3s">
                <button type="submit" onclick="return Cifrando()" class="btn btn-primary" tabindex="5">Cifrar</button>
                <a href="/index.html" class="btn btn-secondary">Cancelar</a>
            </div>
          </form>
          <br>
          <p>Mensaje cifrado</p>
          <textarea class="form-control" name="mcifrado" id="mcifrado" rows="4" cols="50" readonly>
    
          </textarea>
          <button class="btn btn-primary" id="pdf" tabindex="5">Descargar</button>
      </div>
      <script>
          $("#pdf").click(function () {
              var cth = document.getElementById("mcifrado").value;
              var blob = new Blob([cth], { type: "text/plain;charset=utf-8" });
              if (cth == "") {
                  alert("Primero debes escribir un mensaje");
              } else {
                  saveAs(blob, "Mensaje.pdf");
              }
          });
      </script>

      </main>

      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
      <script src="./JS/cifrado.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

  </body>
</html>